---
title: tmux
date: 2022-10-05 15:49:50
tags:
- tmux
categories:
- 学习
---

tmux
<!-- more -->

## 基本

### 配置文件

配置文件: /etc/tmux.conf, ~/.tmux.conf

### 组合键

组合键：默认是ctrl-b。修改组合键：

```
tmux set - g prefix C-x
```

### session

创建session

```
tmux
tmux new -s session_name
```

删除session

```
ctrl-b :kill-session
ctrl-b d	#临时退出
```

列出session，并进入

```
tmux ls
tmux a #自动进入最近一个
tmux a -t session_name
tmux kill-session -t session_name
```

### tmux命令行

在tmux窗口，输入tmux命令

```
ctrl-b :
```

## 窗口管理

### window

```
#创建
ctrl-b c	#创建新的窗口
ctrl-b &	#删除当前窗口

#移动
ctrl-b p	#切换上一个
ctrl-b n

ctrl-b f	#查找关键字
```

还可以通过命令

```
ctrl-b :kill-window
```

### pane

```
#创建
ctrl-b "	#上下切分
ctrl-b %	#左右切分
ctrl-b x	#删除

#切换pane
ctrl-b o	#顺序遍历pane
ctrl-b 方向键	#方向键移动

ctrl-b z  #zoom

#移动
```



## 其它

### 不要确认

```
➜  ~ tmux list-keys | grep confirm-before
bind-key    -T prefix       &                     confirm-before -p "kill-window #W? (y/n)" kill-window
bind-key    -T prefix       x                     confirm-before -p "kill-pane #P? (y/n)" kill-pane
```

将&和x重新映射即可

```
bind-key & kill-window
bind-key x kill-pane
```

### 鼠标滚轮

windows terminal中如何滚动鼠标

```
tmux set -g mouse on
```

### swap window

prefxi:进入命令行

```
swap-window -s 3 -t 1	#window number 3 and window number 1 swap their positions.
swap-window -t 0	#将当前窗口和top窗口交换
move-window -t 0	#In the unlikely case of having no window at index 0
```

设置快捷键

```
bind-key -n C-S-Left swap-window -t -1\; select-window -t -1
bind-key -n C-S-Right swap-window -t +1\; select-window -t +1
```

### 默认路径

tmux默认路径是创建tmux进程时的路径，之后创建窗口和panel都默认是该路径。但有时我们希望能够更改默认路径。通过attach-session命令更改。
并且创建panel时，一般希望复用当前路径。可以在对应快捷键后添加`-c`参数即可

```
bind M-c attach-session -c "#{pane_current_path}" # alt-c, to change current path

# @ pane
# split current window horizontally
bind _ split-window -v -c "#{pane_current_path}"
# split current window vertically
bind - split-window -h -c "#{pane_current_path}"
```

